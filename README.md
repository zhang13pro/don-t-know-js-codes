# 你不知道的 JavaScript

## 作用域

一套设计良好的规则，用来存储变量并且方便之后找到这些变量。

*词法作用域*只由函数被声明时所处的位置决定。最佳实践是少用 `eval()` 和 `with()` 影响词法作用域，不仅仅会被严格模式限制，更重要的是引擎无法在编译时对作用域查找进行优化，进而降低性能。

### 函数作用域

利用**函数作用域**隐藏内部实现。同样的，这也被用来避免同名冲突，参考模块化的历史进程。

### 块级作用域

- with
- try/catch
- let
- const

**任何声明在某个作用域内的变量，都将附属于这个作用域。**

## 提升

编译阶段的一部分工作就是找到所有的声明，并用合适的作用域将它们关联起来。

也就是说，对于变量和函数在内的所有声明都会经历两个步骤。第一是编译（声明），第二是执行（赋值）。这意味着无论作用域中的声明出现在什么地方，都将在代码本身被执行前首先进行处理。

_注意的点：_

- 函数声明会被提升，函数表达式的赋值操作却不会。
- 函数会首先被提升，然后才是变量。

## 闭包

## this

`this`是在**运行时**绑定的。也就是说，它指向什么完全取决于函数在哪被调用。

`new` 关键字改变 this 指向，将 this 设置为一个全新的空对象。
